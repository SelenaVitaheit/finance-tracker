<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
      <p class="text-muted mb-0">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
    </div>
    <div>
      <%= link_to '‚ûï –ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ—Ö–æ–¥–∞', new_category_path(category_type: 'income'), 
          class: 'btn btn-success me-2' %>
      <%= link_to '‚ûï –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ä–∞—Å—Ö–æ–¥–∞', new_category_path(category_type: 'expense'), 
          class: 'btn btn-info' %>
    </div>
  </div>

  <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤ -->
  <div class="card mb-4">
    <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">üìà –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Ö–æ–¥–æ–≤</h5>
      <span class="badge bg-light text-dark"><%= @income_categories.count %> –∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
    </div>
    <div class="card-body">
      <% if @income_categories.any? %>
        <div class="row">
          <% @income_categories.each do |category| %>
            <div class="col-md-4 mb-3">
              <div class="card border-success">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <h6 class="card-title mb-0">
                      <%= category.name %>
                    </h6>
                    <div>
                      <%= link_to '‚úèÔ∏è', edit_category_path(category), 
                          class: 'btn btn-sm btn-outline-warning me-1' %>
                      <%= link_to 'üóëÔ∏è', category, 
                          method: :delete,
                          data: { confirm: '–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é?' },
                          class: 'btn btn-sm btn-outline-danger' %>
                    </div>
                  </div>
                  <small class="text-muted">
                    <%= category.transactions.count %> —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                  </small>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="text-center py-4">
          <i class="bi bi-cash-coin display-4 text-muted"></i>
          <p class="text-muted mt-2">–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–æ—Ö–æ–¥–æ–≤</p>
          <%= link_to '–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–æ—Ö–æ–¥–∞', new_category_path(category_type: 'income'), 
              class: 'btn btn-outline-success' %>
        </div>
      <% end %>
    </div>
  </div>

  <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ -->
  <div class="card">
    <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">üìâ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</h5>
      <span class="badge bg-light text-dark"><%= @expense_categories.count %> –∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
    </div>
    <div class="card-body">
      <% if @expense_categories.any? %>
        <div class="row">
          <% @expense_categories.each do |category| %>
            <div class="col-md-4 mb-3">
              <div class="card border-info">
                <div class="card-body">
                  <div class="d-flex justify-content-between align-items-center">
                    <h6 class="card-title mb-0">
                      <%= category.name %>
                    </h6>
                    <div>
                      <%= link_to '‚úèÔ∏è', edit_category_path(category), 
                          class: 'btn btn-sm btn-outline-warning me-1' %>
                      <%= button_to 'üóëÔ∏è', category, 
    			method: :delete,
    			form: { data: { turbo_confirm: '–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é?' } },
    			class: 'btn btn-sm btn-outline-danger border-0 bg-transparent p-0',
    			title: '–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é' %>
                    </div>
                  </div>
                  <small class="text-muted">
                    <%= category.transactions.count %> —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
                  </small>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <div class="text-center py-4">
          <i class="bi bi-cart display-4 text-muted"></i>
          <p class="text-muted mt-2">–ù–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
          <%= link_to '–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ä–∞—Å—Ö–æ–¥–∞', new_category_path(category_type: 'expense'), 
              class: 'btn btn-outline-info' %>
        </div>
      <% end %>
    </div>
  </div>
</div>